<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="2683px" preserveAspectRatio="none" style="width:3047px;height:2683px;background:#FFFFFF;" version="1.1" viewBox="0 0 3047 2683" width="3047px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="604.7832" style="stroke:#181818;stroke-width:1.0;" width="10" x="730.5874" y="116.9121"/><rect fill="#FFFFFF" height="692.082" style="stroke:#181818;stroke-width:1.0;" width="10" x="730.5874" y="784.2773"/><rect fill="#FFFFFF" height="1046.7012" style="stroke:#181818;stroke-width:1.0;" width="10" x="730.5874" y="1521.6504"/><rect fill="#FFFFFF" height="542.2012" style="stroke:#181818;stroke-width:1.0;" width="10" x="1042.8198" y="148.2031"/><rect fill="#FFFFFF" height="36.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="1047.8198" y="187.4941"/><rect fill="#FFFFFF" height="629.5" style="stroke:#181818;stroke-width:1.0;" width="10" x="1503.8457" y="815.5684"/><rect fill="#FFFFFF" height="984.1191" style="stroke:#181818;stroke-width:1.0;" width="10" x="1633.6523" y="1552.9414"/><rect fill="#FFFFFF" height="435.3281" style="stroke:#181818;stroke-width:1.0;" width="10" x="2014.5283" y="223.7852"/><rect fill="#FFFFFF" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="2019.5283" y="263.0762"/><rect fill="#FFFFFF" height="141.873" style="stroke:#181818;stroke-width:1.0;" width="10" x="2019.5283" y="337.3672"/><rect fill="#FFFFFF" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="2019.5283" y="518.5313"/><rect fill="#FFFFFF" height="66.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="2019.5283" y="592.8223"/><rect fill="#FFFFFF" height="566.918" style="stroke:#181818;stroke-width:1.0;" width="10" x="2014.5283" y="846.8594"/><rect fill="#FFFFFF" height="566.918" style="stroke:#181818;stroke-width:1.0;" width="10" x="2014.5283" y="1584.2324"/><rect fill="#FFFFFF" height="123.873" style="stroke:#181818;stroke-width:1.0;" width="10" x="2014.5283" y="2381.8965"/><rect fill="#FFFFFF" height="168.1641" style="stroke:#181818;stroke-width:1.0;" width="10" x="2356.3325" y="2182.4414"/><rect fill="#FFFFFF" height="105.582" style="stroke:#181818;stroke-width:1.0;" width="10" x="2594.5112" y="373.6582"/><rect fill="#FFFFFF" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="2599.5112" y="412.9492"/><rect fill="#FFFFFF" height="199.377" style="stroke:#181818;stroke-width:1.0;" width="10" x="2594.5112" y="878.1504"/><rect fill="#FFFFFF" height="273.668" style="stroke:#181818;stroke-width:1.0;" width="10" x="2594.5112" y="1108.8184"/><rect fill="#FFFFFF" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="2599.5112" y="1148.1094"/><rect fill="#FFFFFF" height="199.377" style="stroke:#181818;stroke-width:1.0;" width="10" x="2594.5112" y="1615.5234"/><rect fill="#FFFFFF" height="273.668" style="stroke:#181818;stroke-width:1.0;" width="10" x="2594.5112" y="1846.1914"/><rect fill="#FFFFFF" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="2599.5112" y="1885.4824"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="2594.5112" y="2413.1875"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2594.5112" y="2475.7695"/><rect fill="#FFFFFF" height="105.582" style="stroke:#181818;stroke-width:1.0;" width="10" x="2859.7627" y="2213.7324"/><rect fill="#FFFFFF" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="2864.7627" y="2253.0234"/><rect fill="#FFFFFF" height="123.873" style="stroke:#181818;stroke-width:1.0;" width="10" x="2986.4624" y="629.1133"/><rect fill="none" height="598.209" style="stroke:#000000;stroke-width:1.5;" width="2711.8804" x="83.4688" y="893.1504"/><rect fill="none" height="286.25" style="stroke:#000000;stroke-width:1.5;" width="2596.1904" x="93.4688" y="1198.1094"/><rect fill="none" height="952.8281" style="stroke:#000000;stroke-width:1.5;" width="2919.8911" x="83.4688" y="1630.5234"/><rect fill="none" height="640.8691" style="stroke:#000000;stroke-width:1.5;" width="2899.8911" x="93.4688" y="1935.4824"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="49" x2="49" y1="83.6211" y2="2600.3516"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="136.4688" x2="136.4688" y1="83.6211" y2="2600.3516"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="734.6772" x2="734.6772" y1="83.6211" y2="2600.3516"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1046.9165" x2="1046.9165" y1="83.6211" y2="2600.3516"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1507.9424" x2="1507.9424" y1="83.6211" y2="2600.3516"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1637.749" x2="1637.749" y1="83.6211" y2="2600.3516"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2019.1699" x2="2019.1699" y1="83.6211" y2="2600.3516"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2361.2119" x2="2361.2119" y1="83.6211" y2="2600.3516"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2599.3633" x2="2599.3633" y1="83.6211" y2="2600.3516"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2863.8525" x2="2863.8525" y1="83.6211" y2="2600.3516"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2990.6729" x2="2990.6729" y1="83.6211" y2="2600.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82.4688" x="5" y="80.1074">Administrator</text><ellipse cx="49.2344" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M49.2344,21.5 L49.2344,48.5 M36.2344,29.5 L62.2344,29.5 M49.2344,48.5 L36.2344,63.5 M49.2344,48.5 L62.2344,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82.4688" x="5" y="2614.459">Administrator</text><ellipse cx="49.2344" cy="2626.4727" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M49.2344,2634.4727 L49.2344,2661.4727 M36.2344,2642.4727 L62.2344,2642.4727 M49.2344,2661.4727 L36.2344,2676.4727 M49.2344,2661.4727 L62.2344,2676.4727 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61.4551" x="103.4688" y="80.1074">New User</text><ellipse cx="137.1963" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M137.1963,21.5 L137.1963,48.5 M124.1963,29.5 L150.1963,29.5 M137.1963,48.5 L124.1963,63.5 M137.1963,48.5 L150.1963,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61.4551" x="103.4688" y="2614.459">New User</text><ellipse cx="137.1963" cy="2626.4727" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M137.1963,2634.4727 L137.1963,2661.4727 M124.1963,2642.4727 L150.1963,2642.4727 M137.1963,2661.4727 L124.1963,2676.4727 M137.1963,2661.4727 L150.1963,2676.4727 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="119.8203" x="675.6772" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105.8203" x="682.6772" y="72.1074">Frontend (React)</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="119.8203" x="675.6772" y="2599.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105.8203" x="682.6772" y="2621.459">Frontend (React)</text><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="119.8066" x="987.9165" y="31.3789"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.9443" x="996.8477" y="53.4863">/invitations route</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.917" x="998.8062" y="72.1074">(Flask Blueprint)</text><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="119.8066" x="987.9165" y="2599.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.9443" x="996.8477" y="2621.459">/invitations route</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.917" x="998.8062" y="2640.0801">(Flask Blueprint)</text><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="119.8066" x="1448.9424" y="31.3789"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86.3721" x="1465.6597" y="53.4863">/register route</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.917" x="1459.832" y="72.1074">(Flask Blueprint)</text><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="119.8066" x="1448.9424" y="2599.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86.3721" x="1465.6597" y="2621.459">/register route</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.917" x="1459.832" y="2640.0801">(Flask Blueprint)</text><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="119.8066" x="1578.749" y="31.3789"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.9238" x="1601.6904" y="53.4863">/users route</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.917" x="1589.6387" y="72.1074">(Flask Blueprint)</text><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="119.8066" x="1578.749" y="2599.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.9238" x="1601.6904" y="2621.459">/users route</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.917" x="1589.6387" y="2640.0801">(Flask Blueprint)</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116.7168" x="1961.1699" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102.7168" x="1968.1699" y="72.1074">InvitationService</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116.7168" x="1961.1699" y="2599.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102.7168" x="1968.1699" y="2621.459">InvitationService</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="90.2412" x="2316.2119" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76.2412" x="2323.2119" y="72.1074">UserService</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="90.2412" x="2316.2119" y="2599.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76.2412" x="2323.2119" y="2621.459">UserService</text><rect fill="#E2E2F0" height="69.8633" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="160.2959" x="2519.3633" y="12.7578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142.4063" x="2526.3633" y="34.8652">Invitation Model Object</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86.3584" x="2558.2769" y="53.4863">(SQLAlchemy</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80.1582" x="2561.377" y="72.1074">to Database)</text><rect fill="#E2E2F0" height="69.8633" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="160.2959" x="2519.3633" y="2599.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142.4063" x="2526.3633" y="2621.459">Invitation Model Object</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86.3584" x="2558.2769" y="2640.0801">(SQLAlchemy</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80.1582" x="2561.377" y="2658.7012">to Database)</text><rect fill="#E2E2F0" height="69.8633" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="133.8203" x="2797.8525" y="12.7578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115.9307" x="2804.8525" y="34.8652">User Model Object</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86.3584" x="2823.5283" y="53.4863">(SQLAlchemy</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80.1582" x="2826.6284" y="72.1074">to Database)</text><rect fill="#E2E2F0" height="69.8633" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="133.8203" x="2797.8525" y="2599.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115.9307" x="2804.8525" y="2621.459">User Model Object</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86.3584" x="2823.5283" y="2640.0801">(SQLAlchemy</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80.1582" x="2826.6284" y="2658.7012">to Database)</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="99.5791" x="2941.6729" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85.5791" x="2948.6729" y="72.1074">Email Service</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="99.5791" x="2941.6729" y="2599.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85.5791" x="2948.6729" y="2621.459">Email Service</text><rect fill="#FFFFFF" height="604.7832" style="stroke:#181818;stroke-width:1.0;" width="10" x="730.5874" y="116.9121"/><rect fill="#FFFFFF" height="692.082" style="stroke:#181818;stroke-width:1.0;" width="10" x="730.5874" y="784.2773"/><rect fill="#FFFFFF" height="1046.7012" style="stroke:#181818;stroke-width:1.0;" width="10" x="730.5874" y="1521.6504"/><rect fill="#FFFFFF" height="542.2012" style="stroke:#181818;stroke-width:1.0;" width="10" x="1042.8198" y="148.2031"/><rect fill="#FFFFFF" height="36.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="1047.8198" y="187.4941"/><rect fill="#FFFFFF" height="629.5" style="stroke:#181818;stroke-width:1.0;" width="10" x="1503.8457" y="815.5684"/><rect fill="#FFFFFF" height="984.1191" style="stroke:#181818;stroke-width:1.0;" width="10" x="1633.6523" y="1552.9414"/><rect fill="#FFFFFF" height="435.3281" style="stroke:#181818;stroke-width:1.0;" width="10" x="2014.5283" y="223.7852"/><rect fill="#FFFFFF" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="2019.5283" y="263.0762"/><rect fill="#FFFFFF" height="141.873" style="stroke:#181818;stroke-width:1.0;" width="10" x="2019.5283" y="337.3672"/><rect fill="#FFFFFF" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="2019.5283" y="518.5313"/><rect fill="#FFFFFF" height="66.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="2019.5283" y="592.8223"/><rect fill="#FFFFFF" height="566.918" style="stroke:#181818;stroke-width:1.0;" width="10" x="2014.5283" y="846.8594"/><rect fill="#FFFFFF" height="566.918" style="stroke:#181818;stroke-width:1.0;" width="10" x="2014.5283" y="1584.2324"/><rect fill="#FFFFFF" height="123.873" style="stroke:#181818;stroke-width:1.0;" width="10" x="2014.5283" y="2381.8965"/><rect fill="#FFFFFF" height="168.1641" style="stroke:#181818;stroke-width:1.0;" width="10" x="2356.3325" y="2182.4414"/><rect fill="#FFFFFF" height="105.582" style="stroke:#181818;stroke-width:1.0;" width="10" x="2594.5112" y="373.6582"/><rect fill="#FFFFFF" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="2599.5112" y="412.9492"/><rect fill="#FFFFFF" height="199.377" style="stroke:#181818;stroke-width:1.0;" width="10" x="2594.5112" y="878.1504"/><rect fill="#FFFFFF" height="273.668" style="stroke:#181818;stroke-width:1.0;" width="10" x="2594.5112" y="1108.8184"/><rect fill="#FFFFFF" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="2599.5112" y="1148.1094"/><rect fill="#FFFFFF" height="199.377" style="stroke:#181818;stroke-width:1.0;" width="10" x="2594.5112" y="1615.5234"/><rect fill="#FFFFFF" height="273.668" style="stroke:#181818;stroke-width:1.0;" width="10" x="2594.5112" y="1846.1914"/><rect fill="#FFFFFF" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="2599.5112" y="1885.4824"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="2594.5112" y="2413.1875"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2594.5112" y="2475.7695"/><rect fill="#FFFFFF" height="105.582" style="stroke:#181818;stroke-width:1.0;" width="10" x="2859.7627" y="2213.7324"/><rect fill="#FFFFFF" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="2864.7627" y="2253.0234"/><rect fill="#FFFFFF" height="123.873" style="stroke:#181818;stroke-width:1.0;" width="10" x="2986.4624" y="629.1133"/><polygon fill="#181818" points="718.5874,112.9121,728.5874,116.9121,718.5874,120.9121,722.5874,116.9121" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="49.2344" x2="724.5874" y1="116.9121" y2="116.9121"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99.7217" x="56.2344" y="111.6494">Initiates invitation</text><polygon fill="#181818" points="1030.8198,144.2031,1040.8198,148.2031,1030.8198,152.2031,1034.8198,148.2031" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="740.5874" x2="1036.8198" y1="148.2031" y2="148.2031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="283.2324" x="747.5874" y="142.9404">HTTP Request: POST /invitations {email, role_id}</text><line style="stroke:#181818;stroke-width:1.0;" x1="1052.8198" x2="1099.8198" y1="174.4941" y2="174.4941"/><line style="stroke:#181818;stroke-width:1.0;" x1="1099.8198" x2="1099.8198" y1="174.4941" y2="187.4941"/><line style="stroke:#181818;stroke-width:1.0;" x1="1058.8198" x2="1099.8198" y1="187.4941" y2="187.4941"/><polygon fill="#181818" points="1068.8198,183.4941,1058.8198,187.4941,1068.8198,191.4941,1064.8198,187.4941" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="427.0259" x="1064.8198" y="169.2314">extracts household_id from Administrator User object (sender of invitation)</text><polygon fill="#181818" points="2002.5283,219.7852,2012.5283,223.7852,2002.5283,227.7852,2006.5283,223.7852" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1052.8198" x2="2008.5283" y1="223.7852" y2="223.7852"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="255.7979" x="1059.8198" y="218.5225">invite_member(household_id, email, role_id)</text><line style="stroke:#181818;stroke-width:1.0;" x1="2029.5283" x2="2071.5283" y1="255.0762" y2="255.0762"/><line style="stroke:#181818;stroke-width:1.0;" x1="2071.5283" x2="2071.5283" y1="255.0762" y2="268.0762"/><line style="stroke:#181818;stroke-width:1.0;" x1="2030.5283" x2="2071.5283" y1="268.0762" y2="268.0762"/><polygon fill="#181818" points="2040.5283,264.0762,2030.5283,268.0762,2040.5283,272.0762,2036.5283,268.0762" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159.7388" x="2036.5283" y="249.8135">__generate_unique_token()</text><line style="stroke:#181818;stroke-width:1.0;" x1="2024.5283" x2="2071.5283" y1="324.3672" y2="324.3672"/><line style="stroke:#181818;stroke-width:1.0;" x1="2071.5283" x2="2071.5283" y1="324.3672" y2="337.3672"/><line style="stroke:#181818;stroke-width:1.0;" x1="2030.5283" x2="2071.5283" y1="337.3672" y2="337.3672"/><polygon fill="#181818" points="2040.5283,333.3672,2030.5283,337.3672,2040.5283,341.3672,2036.5283,337.3672" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="279.6714" x="2036.5283" y="319.1045">__create_invitation(household_id, email, role_id)</text><polygon fill="#181818" points="2582.5112,369.6582,2592.5112,373.6582,2582.5112,377.6582,2586.5112,373.6582" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2029.5283" x2="2588.5112" y1="373.6582" y2="373.6582"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="312.9268" x="2036.5283" y="368.3955">create(household, household_role, email, plain_token)</text><line style="stroke:#181818;stroke-width:1.0;" x1="2609.5112" x2="2651.5112" y1="404.9492" y2="404.9492"/><line style="stroke:#181818;stroke-width:1.0;" x1="2651.5112" x2="2651.5112" y1="404.9492" y2="417.9492"/><line style="stroke:#181818;stroke-width:1.0;" x1="2610.5112" x2="2651.5112" y1="417.9492" y2="417.9492"/><polygon fill="#181818" points="2620.5112,413.9492,2610.5112,417.9492,2620.5112,421.9492,2616.5112,417.9492" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="231.2515" x="2616.5112" y="399.6865">__hash_token(plain_token) (for storage)</text><polygon fill="#181818" points="2035.5283,475.2402,2025.5283,479.2402,2035.5283,483.2402,2031.5283,479.2402" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2029.5283" x2="2598.5112" y1="479.2402" y2="479.2402"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90.3335" x="2041.5283" y="473.9775">Invitation object</text><line style="stroke:#181818;stroke-width:1.0;" x1="2029.5283" x2="2071.5283" y1="510.5313" y2="510.5313"/><line style="stroke:#181818;stroke-width:1.0;" x1="2071.5283" x2="2071.5283" y1="510.5313" y2="523.5313"/><line style="stroke:#181818;stroke-width:1.0;" x1="2030.5283" x2="2071.5283" y1="523.5313" y2="523.5313"/><polygon fill="#181818" points="2040.5283,519.5313,2030.5283,523.5313,2040.5283,527.5313,2036.5283,523.5313" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="291.9731" x="2036.5283" y="505.2686">__generate_invitation_link() [including plain_token]</text><line style="stroke:#181818;stroke-width:1.0;" x1="2024.5283" x2="2071.5283" y1="579.8223" y2="579.8223"/><line style="stroke:#181818;stroke-width:1.0;" x1="2071.5283" x2="2071.5283" y1="579.8223" y2="592.8223"/><line style="stroke:#181818;stroke-width:1.0;" x1="2030.5283" x2="2071.5283" y1="592.8223" y2="592.8223"/><polygon fill="#181818" points="2040.5283,588.8223,2030.5283,592.8223,2040.5283,596.8223,2036.5283,592.8223" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="307.8042" x="2036.5283" y="574.5596">__send_invitation_email(email: str, invitation_link: str)</text><polygon fill="#181818" points="2974.4624,625.1133,2984.4624,629.1133,2974.4624,633.1133,2978.4624,629.1133" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2029.5283" x2="2980.4624" y1="629.1133" y2="629.1133"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180.6162" x="2036.5283" y="623.8506">calls Mail service to send Email</text><polygon fill="#181818" points="751.5874,686.4043,741.5874,690.4043,751.5874,694.4043,747.5874,690.4043" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="745.5874" x2="1046.8198" y1="690.4043" y2="690.4043"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152.4453" x="757.5874" y="685.1416">HTTP Response: Success</text><polygon fill="#181818" points="60.2344,717.6953,50.2344,721.6953,60.2344,725.6953,56.2344,721.6953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="54.2344" x2="734.5874" y1="721.6953" y2="721.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99.6963" x="66.2344" y="716.4326">Displays success</text><polygon fill="#181818" points="148.1963,748.9863,138.1963,752.9863,148.1963,756.9863,144.1963,752.9863" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="142.1963" x2="2990.4624" y1="752.9863" y2="752.9863"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179.2007" x="154.1963" y="747.7236">send invitation link to new User</text><polygon fill="#181818" points="718.5874,780.2773,728.5874,784.2773,718.5874,788.2773,722.5874,784.2773" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="137.1963" x2="724.5874" y1="784.2773" y2="784.2773"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="287.5552" x="144.1963" y="779.0146">Clicks invitation link (/register?token=...&amp;email=...)</text><polygon fill="#181818" points="1491.8457,811.5684,1501.8457,815.5684,1491.8457,819.5684,1495.8457,815.5684" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="740.5874" x2="1497.8457" y1="815.5684" y2="815.5684"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="357.6777" x="747.5874" y="810.3057">HTTP Request: GET /register?token=&lt;token&gt;&amp;email=&lt;email&gt;</text><polygon fill="#181818" points="2002.5283,842.8594,2012.5283,846.8594,2002.5283,850.8594,2006.5283,846.8594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1513.8457" x2="2008.5283" y1="846.8594" y2="846.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203.0425" x="1520.8457" y="841.5967">verify_invitation(plain_token, email)</text><polygon fill="#181818" points="2582.5112,874.1504,2592.5112,878.1504,2582.5112,882.1504,2586.5112,878.1504" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2024.5283" x2="2588.5112" y1="878.1504" y2="878.1504"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="550.9829" x="2031.5283" y="872.8877">query invitation by email, is_used=false, created_after expiration time period before current time</text><path d="M83.4688,893.1504 L143.6396,893.1504 L143.6396,902.4414 L133.6396,912.4414 L83.4688,912.4414 L83.4688,893.1504 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="598.209" style="stroke:#000000;stroke-width:1.5;" width="2711.8804" x="83.4688" y="893.1504"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="15.1709" x="98.4688" y="908.1787">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="133.23" x="158.6396" y="907.0205">[invitation does not exist]</text><polygon fill="#181818" points="2035.5283,931.7324,2025.5283,935.7324,2035.5283,939.7324,2031.5283,935.7324" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2029.5283" x2="2593.5112" y1="935.7324" y2="935.7324"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="20.2363" x="2041.5283" y="930.4697">null</text><polygon fill="#181818" points="1524.8457,963.0234,1514.8457,967.0234,1524.8457,971.0234,1520.8457,967.0234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1518.8457" x2="2013.5283" y1="967.0234" y2="967.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="20.2363" x="1530.8457" y="961.7607">null</text><polygon fill="#181818" points="751.5874,994.3145,741.5874,998.3145,751.5874,1002.3145,747.5874,998.3145" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="745.5874" x2="1502.8457" y1="998.3145" y2="998.3145"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2026" x="757.5874" y="993.0518">HTTP Response: Error</text><polygon fill="#181818" points="148.1963,1025.6055,138.1963,1029.6055,148.1963,1033.6055,144.1963,1029.6055" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="142.1963" x2="729.5874" y1="1029.6055" y2="1029.6055"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196.5361" x="154.1963" y="1024.3428">Error Message: Invitation not valid</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="83.4688" x2="2795.3491" y1="1038.6055" y2="1038.6055"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="113.0723" x="88.4688" y="1050.4756">[Invitation does exist]</text><polygon fill="#181818" points="2035.5283,1073.5273,2025.5283,1077.5273,2035.5283,1081.5273,2031.5283,1077.5273" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2029.5283" x2="2598.5112" y1="1077.5273" y2="1077.5273"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90.3335" x="2041.5283" y="1072.2646">Invitation object</text><polygon fill="#181818" points="2582.5112,1104.8184,2592.5112,1108.8184,2582.5112,1112.8184,2586.5112,1108.8184" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2024.5283" x2="2588.5112" y1="1108.8184" y2="1108.8184"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145.2471" x="2031.5283" y="1103.5557">verify_token(plain_token)</text><line style="stroke:#181818;stroke-width:1.0;" x1="2609.5112" x2="2651.5112" y1="1140.1094" y2="1140.1094"/><line style="stroke:#181818;stroke-width:1.0;" x1="2651.5112" x2="2651.5112" y1="1140.1094" y2="1153.1094"/><line style="stroke:#181818;stroke-width:1.0;" x1="2610.5112" x2="2651.5112" y1="1153.1094" y2="1153.1094"/><polygon fill="#181818" points="2620.5112,1149.1094,2610.5112,1153.1094,2620.5112,1157.1094,2616.5112,1153.1094" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156.8379" x="2616.5112" y="1134.8467">__hash_token(plain_token)</text><path d="M93.4688,1198.1094 L153.6396,1198.1094 L153.6396,1207.4004 L143.6396,1217.4004 L93.4688,1217.4004 L93.4688,1198.1094 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="286.25" style="stroke:#000000;stroke-width:1.5;" width="2596.1904" x="93.4688" y="1198.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="15.1709" x="108.4688" y="1213.1377">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="150.9492" x="168.6396" y="1211.9795">[invitation token not verified]</text><polygon fill="#181818" points="2035.5283,1236.6914,2025.5283,1240.6914,2035.5283,1244.6914,2031.5283,1240.6914" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2029.5283" x2="2593.5112" y1="1240.6914" y2="1240.6914"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31.7891" x="2041.5283" y="1235.4287">False</text><polygon fill="#181818" points="1524.8457,1267.9824,1514.8457,1271.9824,1524.8457,1275.9824,1520.8457,1271.9824" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1518.8457" x2="2013.5283" y1="1271.9824" y2="1271.9824"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="20.2363" x="1530.8457" y="1266.7197">null</text><polygon fill="#181818" points="751.5874,1299.2734,741.5874,1303.2734,751.5874,1307.2734,747.5874,1303.2734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="745.5874" x2="1502.8457" y1="1303.2734" y2="1303.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2026" x="757.5874" y="1298.0107">HTTP Response: Error</text><polygon fill="#181818" points="148.1963,1330.5645,138.1963,1334.5645,148.1963,1338.5645,144.1963,1334.5645" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="142.1963" x2="729.5874" y1="1334.5645" y2="1334.5645"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196.5361" x="154.1963" y="1329.3018">Error Message: Invitation not valid</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="93.4688" x2="2689.6592" y1="1343.5645" y2="1343.5645"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="130.7915" x="98.4688" y="1355.4346">[invitation token verified]</text><polygon fill="#181818" points="2035.5283,1378.4863,2025.5283,1382.4863,2035.5283,1386.4863,2031.5283,1382.4863" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2029.5283" x2="2598.5112" y1="1382.4863" y2="1382.4863"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26.73" x="2041.5283" y="1377.2236">True</text><polygon fill="#181818" points="1524.8457,1409.7773,1514.8457,1413.7773,1524.8457,1417.7773,1520.8457,1413.7773" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1518.8457" x2="2018.5283" y1="1413.7773" y2="1413.7773"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90.3335" x="1530.8457" y="1408.5146">Invitation object</text><polygon fill="#181818" points="751.5874,1441.0684,741.5874,1445.0684,751.5874,1449.0684,747.5874,1445.0684" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="745.5874" x2="1507.8457" y1="1445.0684" y2="1445.0684"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="415.4731" x="757.5874" y="1439.8057">HTTP Response: Registration data (email, household_id, role_id) / Error</text><polygon fill="#181818" points="148.1963,1472.3594,138.1963,1476.3594,148.1963,1480.3594,144.1963,1476.3594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="142.1963" x2="734.5874" y1="1476.3594" y2="1476.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="569.3911" x="154.1963" y="1471.0967">Registration form (username, password) (prefilled and immutable: email, household_id and role_id)</text><polygon fill="#181818" points="718.5874,1517.6504,728.5874,1521.6504,718.5874,1525.6504,722.5874,1521.6504" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="137.1963" x2="724.5874" y1="1521.6504" y2="1521.6504"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="275.2598" x="144.1963" y="1516.3877">Fills out registration form (username, password)</text><polygon fill="#181818" points="1621.6523,1548.9414,1631.6523,1552.9414,1621.6523,1556.9414,1625.6523,1552.9414" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="740.5874" x2="1627.6523" y1="1552.9414" y2="1552.9414"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="508.7012" x="747.5874" y="1547.6787">HTTP Request: POST /users {username, password, email, household_id, role_id, token}</text><polygon fill="#181818" points="2002.5283,1580.2324,2012.5283,1584.2324,2002.5283,1588.2324,2006.5283,1584.2324" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1643.6523" x2="2008.5283" y1="1584.2324" y2="1584.2324"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="351.876" x="1650.6523" y="1578.9697">verify_invitation(plain_token, email) check if token is still valid</text><polygon fill="#181818" points="2582.5112,1611.5234,2592.5112,1615.5234,2582.5112,1619.5234,2586.5112,1615.5234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2024.5283" x2="2588.5112" y1="1615.5234" y2="1615.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="550.9829" x="2031.5283" y="1610.2607">query invitation by email, is_used=false, created_after expiration time period before current time</text><path d="M83.4688,1630.5234 L143.6396,1630.5234 L143.6396,1639.8145 L133.6396,1649.8145 L83.4688,1649.8145 L83.4688,1630.5234 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="952.8281" style="stroke:#000000;stroke-width:1.5;" width="2919.8911" x="83.4688" y="1630.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="15.1709" x="98.4688" y="1645.5518">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="133.23" x="158.6396" y="1644.3936">[invitation does not exist]</text><polygon fill="#181818" points="2035.5283,1669.1055,2025.5283,1673.1055,2035.5283,1677.1055,2031.5283,1673.1055" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2029.5283" x2="2593.5112" y1="1673.1055" y2="1673.1055"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="20.2363" x="2041.5283" y="1667.8428">null</text><polygon fill="#181818" points="1654.6523,1700.3965,1644.6523,1704.3965,1654.6523,1708.3965,1650.6523,1704.3965" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1648.6523" x2="2013.5283" y1="1704.3965" y2="1704.3965"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="20.2363" x="1660.6523" y="1699.1338">null</text><polygon fill="#181818" points="751.5874,1731.6875,741.5874,1735.6875,751.5874,1739.6875,747.5874,1735.6875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="745.5874" x2="1632.6523" y1="1735.6875" y2="1735.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2026" x="757.5874" y="1730.4248">HTTP Response: Error</text><polygon fill="#181818" points="148.1963,1762.9785,138.1963,1766.9785,148.1963,1770.9785,144.1963,1766.9785" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="142.1963" x2="729.5874" y1="1766.9785" y2="1766.9785"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196.5361" x="154.1963" y="1761.7158">Error Message: Invitation not valid</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="83.4688" x2="3003.3599" y1="1775.9785" y2="1775.9785"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="113.0723" x="88.4688" y="1787.8486">[Invitation does exist]</text><polygon fill="#181818" points="2035.5283,1810.9004,2025.5283,1814.9004,2035.5283,1818.9004,2031.5283,1814.9004" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2029.5283" x2="2598.5112" y1="1814.9004" y2="1814.9004"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90.3335" x="2041.5283" y="1809.6377">Invitation object</text><polygon fill="#181818" points="2582.5112,1842.1914,2592.5112,1846.1914,2582.5112,1850.1914,2586.5112,1846.1914" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2024.5283" x2="2588.5112" y1="1846.1914" y2="1846.1914"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145.2471" x="2031.5283" y="1840.9287">verify_token(plain_token)</text><line style="stroke:#181818;stroke-width:1.0;" x1="2609.5112" x2="2651.5112" y1="1877.4824" y2="1877.4824"/><line style="stroke:#181818;stroke-width:1.0;" x1="2651.5112" x2="2651.5112" y1="1877.4824" y2="1890.4824"/><line style="stroke:#181818;stroke-width:1.0;" x1="2610.5112" x2="2651.5112" y1="1890.4824" y2="1890.4824"/><polygon fill="#181818" points="2620.5112,1886.4824,2610.5112,1890.4824,2620.5112,1894.4824,2616.5112,1890.4824" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156.8379" x="2616.5112" y="1872.2197">__hash_token(plain_token)</text><path d="M93.4688,1935.4824 L153.6396,1935.4824 L153.6396,1944.7734 L143.6396,1954.7734 L93.4688,1954.7734 L93.4688,1935.4824 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="640.8691" style="stroke:#000000;stroke-width:1.5;" width="2899.8911" x="93.4688" y="1935.4824"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="15.1709" x="108.4688" y="1950.5107">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="150.9492" x="168.6396" y="1949.3525">[invitation token not verified]</text><polygon fill="#181818" points="2035.5283,1974.0645,2025.5283,1978.0645,2035.5283,1982.0645,2031.5283,1978.0645" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2029.5283" x2="2593.5112" y1="1978.0645" y2="1978.0645"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31.7891" x="2041.5283" y="1972.8018">False</text><polygon fill="#181818" points="1654.6523,2005.3555,1644.6523,2009.3555,1654.6523,2013.3555,1650.6523,2009.3555" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1648.6523" x2="2013.5283" y1="2009.3555" y2="2009.3555"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="20.2363" x="1660.6523" y="2004.0928">null</text><polygon fill="#181818" points="751.5874,2036.6465,741.5874,2040.6465,751.5874,2044.6465,747.5874,2040.6465" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="745.5874" x2="1632.6523" y1="2040.6465" y2="2040.6465"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2026" x="757.5874" y="2035.3838">HTTP Response: Error</text><polygon fill="#181818" points="148.1963,2067.9375,138.1963,2071.9375,148.1963,2075.9375,144.1963,2071.9375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="142.1963" x2="729.5874" y1="2071.9375" y2="2071.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196.5361" x="154.1963" y="2066.6748">Error Message: Invitation not valid</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="93.4688" x2="2993.3599" y1="2080.9375" y2="2080.9375"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="130.7915" x="98.4688" y="2092.8076">[invitation token verified]</text><polygon fill="#181818" points="2035.5283,2115.8594,2025.5283,2119.8594,2035.5283,2123.8594,2031.5283,2119.8594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2029.5283" x2="2598.5112" y1="2119.8594" y2="2119.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26.73" x="2041.5283" y="2114.5967">True</text><polygon fill="#181818" points="1654.6523,2147.1504,1644.6523,2151.1504,1654.6523,2155.1504,1650.6523,2151.1504" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1648.6523" x2="2018.5283" y1="2151.1504" y2="2151.1504"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138.0107" x="1660.6523" y="2145.8877">Invitation object (or null)</text><polygon fill="#181818" points="2344.3325,2178.4414,2354.3325,2182.4414,2344.3325,2186.4414,2348.3325,2182.4414" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1643.6523" x2="2350.3325" y1="2182.4414" y2="2182.4414"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="291.2051" x="1650.6523" y="2177.1787">create_user(invitation, username, plain_password)</text><polygon fill="#181818" points="2847.7627,2209.7324,2857.7627,2213.7324,2847.7627,2217.7324,2851.7627,2213.7324" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2366.3325" x2="2853.7627" y1="2213.7324" y2="2213.7324"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="305.665" x="2373.3325" y="2208.4697">create(household, email, username, plain_password)</text><line style="stroke:#181818;stroke-width:1.0;" x1="2874.7627" x2="2916.7627" y1="2245.0234" y2="2245.0234"/><line style="stroke:#181818;stroke-width:1.0;" x1="2916.7627" x2="2916.7627" y1="2245.0234" y2="2258.0234"/><line style="stroke:#181818;stroke-width:1.0;" x1="2875.7627" x2="2916.7627" y1="2258.0234" y2="2258.0234"/><polygon fill="#181818" points="2885.7627,2254.0234,2875.7627,2258.0234,2885.7627,2262.0234,2881.7627,2258.0234" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89.5972" x="2881.7627" y="2239.7607">Hash password</text><polygon fill="#181818" points="2377.3325,2315.3145,2367.3325,2319.3145,2377.3325,2323.3145,2373.3325,2319.3145" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2371.3325" x2="2863.7627" y1="2319.3145" y2="2319.3145"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65.749" x="2383.3325" y="2314.0518">User object</text><polygon fill="#181818" points="1654.6523,2346.6055,1644.6523,2350.6055,1654.6523,2354.6055,1650.6523,2350.6055" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1648.6523" x2="2360.3325" y1="2350.6055" y2="2350.6055"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65.749" x="1660.6523" y="2345.3428">User object</text><polygon fill="#181818" points="2002.5283,2377.8965,2012.5283,2381.8965,2002.5283,2385.8965,2006.5283,2381.8965" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1643.6523" x2="2008.5283" y1="2381.8965" y2="2381.8965"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221.1206" x="1650.6523" y="2376.6338">mark_invitation_as_used(invitation_id)</text><polygon fill="#181818" points="2582.5112,2409.1875,2592.5112,2413.1875,2582.5112,2417.1875,2586.5112,2413.1875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2024.5283" x2="2588.5112" y1="2413.1875" y2="2413.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118.5107" x="2031.5283" y="2407.9248">query invitation by id</text><polygon fill="#181818" points="2035.5283,2440.4785,2025.5283,2444.4785,2035.5283,2448.4785,2031.5283,2444.4785" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2029.5283" x2="2598.5112" y1="2444.4785" y2="2444.4785"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90.3335" x="2041.5283" y="2439.2158">Invitation object</text><polygon fill="#181818" points="2582.5112,2471.7695,2592.5112,2475.7695,2582.5112,2479.7695,2586.5112,2475.7695" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2024.5283" x2="2588.5112" y1="2475.7695" y2="2475.7695"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93.9263" x="2031.5283" y="2470.5068">mark_as_used()</text><polygon fill="#181818" points="751.5874,2533.0605,741.5874,2537.0605,751.5874,2541.0605,747.5874,2537.0605" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="745.5874" x2="1637.6523" y1="2537.0605" y2="2537.0605"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="307.0679" x="757.5874" y="2531.7979">HTTP Response: Success/Redirection to login / Error</text><polygon fill="#181818" points="148.1963,2564.3516,138.1963,2568.3516,148.1963,2572.3516,144.1963,2568.3516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="142.1963" x2="734.5874" y1="2568.3516" y2="2568.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="247.8188" x="154.1963" y="2563.0889">Redirects to login / Displays error message</text><!--SRC=[xPXRRzis583VzIiEyh39W9sy1sc6TetN0DEQIT7JLWYqT6npfYIFbDmQHV_x3YdPfcw-TDc6OGkGs19vxeSVoR2uo2MyJbAUSLL8ff-Ogbuup0nU_OGV8LGeh_I8_k8uQoOB7lCromgucieyAp1BmFMHH4PctlIXDUk6PnjUi8BdcGAPbmN-ce4x5Koju8qeSIrvLii- -YrHYGlo3kK9ERyjLvApfuo5VilHnxsV0SeDZx7oAMZEqdcmnyDWK0ruUO82tiz-mxW0xKZmyu-lHRp4T4jFHGvlMS5cJ64TljSrTQcEq6kvyv0oBi3ssACNZlFjP381ozSdcSUe5BYc1KP0muxv2fDxAYhSqcHUS5QWWaD57Q0VgZtVq82klNwcsIJpw9FCk-Vd9_3nzn9LSGjFxuDdQFJ3PzJkZQbK0YEUV37o3PtK4xjtf76d5pzHpyQ5WcLEjLxc8Y5fcCiyRVMqoM5UPSzLrApwSMv5C3h7P40cZGX6AQOpbAvjTmpDA0ugzK-2VOgR1eF6UpAtCnf52yoGGi6ep3YbCIho5MRkw2n5jkaZ9cA9si0X9nT4TyA0HmOgzGUTOwjeMkVUm5emdbK1Deqq3NcTCJApCnP5IwQMTPPiXU3EgHqKzGHRu6NgxJHwxIZlz3BopFBOhwMgtvppT9nPf7qV7CeK2Pwjt17ymhDOb0dF5dOAFxnaY-YLOris5NFDtrjAgXn3ootpzf9MqLJIpSA4g105gcAMPfms3uPamuNp-aQ7m-iV9NIPWbhiKci25Tv2KCOQa4vtJLUOr7A6as-veZ9i5QXQmffDX3H4kfli0ZQX7P87EdawvApUV6rfYzn6Ys-sHza4k0Qt6Trn-tl1uvNgs73tk-jtfbzUNLzVVsCggh-DZf3TxvBzXmS2UqlVdVcuhtNUcO_xBctz0nJz0sqtAFbyQpF9QksQ61UJY9oLMpiHi-sEFLn5nAJarPm9HKIgc9L4RAvF7_XfpUii5pn5M9DpUG8p9AGWnAMKI5kj7ZhA5OU9mhQUvBINPdb1-YblWs39IY7i59c1m1wekzRlwTe7ANEvwxcwGSqxyAXP28KDS6bdDapmn76Gyc0F6MUFE_gr1BGgL9UzY-yNtm_-n0xGhgDHMELEkyyn6KpHLBVNFrJCZiSdlNsM9PvHGpkCuHuOX6rVf0so9NJ21RTUgCsZoUvC0ZTrSbgM22xDT3KKq_9DmTMNXOobjEhNJAcFkIHrxbhYd0k12J3DvpGjwPGjoBCUDyoK_UceINk7y6v-cqoUShtDqVq4v5aE7Q5nE7JEhYv1dxlQnd0ib-EgEtgEuk61r65DwZD13NHVYLV0vtNdSTeS2qf1tP__FOo7HrP- -3_6_rqO_tkB-PTXF3o6SN39FHtSo3b-jgx840RxYvzUaD8zU3q6YqYcaatATR7J145esYpilrdM63ZFGjDAjrr2Rs_f7NNVdfyNAR6or1eDgn8P_TQ_APpJqdMbJ9Bx96sfeCDi4agPNDdNELPXqwhIrrpq-xZCaxDNw0ipoCIu2-nyJlJh7ZoyXCCtnHiV4ox9zsgfWiWNT4qSEAY4tODA9QniqVtL4WqkqWeNGqUEFm00]--></g></svg>